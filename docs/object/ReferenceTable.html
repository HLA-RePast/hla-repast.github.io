<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_11) on Wed Dec 05 17:26:17 GMT 2007 -->
<TITLE>
ReferenceTable
</TITLE>

<META NAME="keywords" CONTENT="object.ReferenceTable class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ReferenceTable";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ReferenceTable.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../object/PublicVariable.OwnershipState.html" title="enum in object"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../object/RemoteBase.html" title="class in object"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?object/ReferenceTable.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ReferenceTable.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
object</FONT>
<BR>
Class ReferenceTable</H2>
<PRE>
java.lang.Object
  <IMG SRC="../resources/inherit.gif" ALT="extended by "><B>object.ReferenceTable</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ReferenceTable</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
A ReferenceTable is a mechanism for accessing and tracking strong
 references to PublicObjects in the local Java Virtual Machine.
 
 The purpose of this is to allow the local model to lazily perform
 object deletion. As soon as all strong references to a locally 
 registered PublicObject have disappeared, a call to getDeadReferences
 will return a list containing the handle of the object. This can
 be used to send explicit delete messages to the rest of the 
 federation.
 
 <b>NOTE</b>: it is easy to missuse this facility. For
 example, a model keeps a list of chess pieces, removing the piece
 from the list whenever it is captured. If this is the only 
 existing reference to the piece, everything is fine and it will
 become finalizeable. However, if a strong reference to the piece
 exists in, for eg. planners, display surfaces, loggers, etc. then
 the garbage collection will not take place and the functioning
 of the ReferenceTable with which the object is registered will be
 undermined.
 
 For this reason it is strongly recommended that PublicObject
 instances only exist in a single datastructure in a model if
 lazy deletion is to be used. Any representations elsewhere should
 clone the object or, preferrably, refer back to this single
 datastructure when needed (eg. one might use a wrapper class
 ChessPiceDisplayable with a reference back to a ChessPieceList
 instance in order to graphically display pieces without creating
 unecessary strong references to them). Complicated models in which
 this generates lots of messy code should consider disabling lazy
 deletion and using explicit deletion instead.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Rob Minson</DD>
<DT><B>See Also:</B><DD><A HREF="../object/ObjectLookup.html#localDelete(object.PublicObject)"><CODE>ObjectLookup.localDelete(PublicObject)</CODE></A></DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../object/ReferenceTable.html#ReferenceTable()">ReferenceTable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../object/ReferenceTable.html#allHandles()">allHandles</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../object/ReferenceTable.html#deregister(object.PublicObject)">deregister</A></B>(<A HREF="../object/PublicObject.html" title="class in object">PublicObject</A>&nbsp;ob)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the reference to the given object from the ReferenceTable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../object/LookupReference.html" title="class in object">LookupReference</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../object/ReferenceTable.html#getDeadReferences()">getDeadReferences</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a list of LookupReferences corresponding to all locally registered
 PublicObjects which have been garbage collected since the method was last
 called.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../object/PublicObject.html" title="class in object">PublicObject</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../object/ReferenceTable.html#getObject(int)">getObject</A></B>(int&nbsp;ID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the PublicObject specified by the given handle.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../object/ReferenceTable.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../object/ReferenceTable.html#register(object.PublicObject)">register</A></B>(<A HREF="../object/PublicObject.html" title="class in object">PublicObject</A>&nbsp;ob)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert a PublicObject in to the ReferenceTable.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ReferenceTable()"><!-- --></A><H3>
ReferenceTable</H3>
<PRE>
public <B>ReferenceTable</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getDeadReferences()"><!-- --></A><H3>
getDeadReferences</H3>
<PRE>
public java.util.List&lt;<A HREF="../object/LookupReference.html" title="class in object">LookupReference</A>&gt; <B>getDeadReferences</B>()</PRE>
<DL>
<DD>Returns a list of LookupReferences corresponding to all locally registered
 PublicObjects which have been garbage collected since the method was last
 called. 
 
 Typically this will be used to determine which locally registered shared 
 objects can now be explicitly deleted throughout the rest of the federation 
 (eg. via calling deleteObjectInstance(...) on the local RTIambassador)
 having already been implicitly deleted by the local model.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the list of references to finalizeable objects.</DL>
</DD>
</DL>
<HR>

<A NAME="getObject(int)"><!-- --></A><H3>
getObject</H3>
<PRE>
public <A HREF="../object/PublicObject.html" title="class in object">PublicObject</A> <B>getObject</B>(int&nbsp;ID)
                       throws <A HREF="../manager/ObjectDeletedException.html" title="class in manager">ObjectDeletedException</A>,
                              <A HREF="../manager/ObjectNotFoundException.html" title="class in manager">ObjectNotFoundException</A></PRE>
<DL>
<DD>Get the PublicObject specified by the given handle.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ID</CODE> - the RTI-assigned handle of the required object
<DT><B>Returns:</B><DD>the corresponding PublicObject
<DT><B>Throws:</B>
<DD><CODE><A HREF="../manager/ObjectNotFoundException.html" title="class in manager">ObjectNotFoundException</A></CODE> - if the object has not been placed in the
   lookup
<DD><CODE><A HREF="../manager/ObjectDeletedException.html" title="class in manager">ObjectDeletedException</A></CODE> - if the object has been garbage collected 
   by the local JVM prior to this call.</DL>
</DD>
</DL>
<HR>

<A NAME="register(object.PublicObject)"><!-- --></A><H3>
register</H3>
<PRE>
public void <B>register</B>(<A HREF="../object/PublicObject.html" title="class in object">PublicObject</A>&nbsp;ob)</PRE>
<DL>
<DD>Insert a PublicObject in to the ReferenceTable. A reference to the 
   object can then be regained by a call to getObject. If a PublicObject 
   with the same handle exists in the Lookup it will be overwritten by 
   this object (this works fine assuming the RTI provides unique IDs).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ob</CODE> - the PublicObject to register with this ReferenceTable</DL>
</DD>
</DL>
<HR>

<A NAME="deregister(object.PublicObject)"><!-- --></A><H3>
deregister</H3>
<PRE>
public void <B>deregister</B>(<A HREF="../object/PublicObject.html" title="class in object">PublicObject</A>&nbsp;ob)
                throws <A HREF="../manager/ObjectNotFoundException.html" title="class in manager">ObjectNotFoundException</A></PRE>
<DL>
<DD>Removes the reference to the given object from the ReferenceTable.
 
 This disables reference tracking for this object. It will still
 be possible to refer to strong references of this object elsewhere
 in calling code, however, if the object becomes finalizable, the 
 rest of the federation will not be automatically informed of its
 deletion.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ob</CODE> - the PublicObject which should no longer be tracked by
 this ReferenceTable
<DT><B>Throws:</B>
<DD><CODE><A HREF="../manager/ObjectNotFoundException.html" title="class in manager">ObjectNotFoundException</A></CODE> - if the given object is not currently
 registered with this ReferenceTable</DL>
</DD>
</DL>
<HR>

<A NAME="allHandles()"><!-- --></A><H3>
allHandles</H3>
<PRE>
public java.util.Set&lt;java.lang.Integer&gt; <B>allHandles</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;args)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ReferenceTable.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../object/PublicVariable.OwnershipState.html" title="enum in object"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../object/RemoteBase.html" title="class in object"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?object/ReferenceTable.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ReferenceTable.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
